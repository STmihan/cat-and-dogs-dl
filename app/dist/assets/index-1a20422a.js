import{b3 as p,aB as g}from"./tfjs-core-05bdc049.js";import{l as y}from"./tfjs-layers-ae086d1e.js";import"./long-edff4021.js";import"./seedrandom-794c9125.js";(async()=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function o(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(e){if(e.ep)return;e.ep=!0;const n=o(e);fetch(e.href,n)}})();const l=document.getElementById("image_container"),c=document.getElementById("upload_form"),a=document.getElementById("process_button"),d=document.getElementById("result"),m=await y("http://localhost:5173/model/model.json");let s=null;c.onsubmit=t=>{t.preventDefault(),console.log("submit");const o=document.getElementById("file").files[0],r=new FileReader;r.onload=e=>{const n=f();n.src=e.target.result,s=n},r.readAsDataURL(o)},a.onclick=()=>{u().then(t=>{let o="";t[0]>t[1]?o=`Dog ${t[0]*100}%`:o=`Cat ${t[1]*100}%`,d.innerHTML=o})};async function u(){const t=await p(s,3),o=g.resizeBilinear(t,[224,224]).expandDims(0),r=await m.predict(o).data();return console.log(r),r}function f(){const t=document.getElementById("image");if(!t){const o=new Image;return o.id="image",l.appendChild(o),o}return t}})();
