import{fI as g,fe as y}from"./tfjs-core-5c5341c2.js";import{l as h}from"./tfjs-layers-57c07c2c.js";import"./tfjs-converter-55183d18.js";import"./seedrandom-f0662712.js";import"./tfjs-data-d561bfb8.js";import"./tfjs-backend-cpu-bf03ae8c.js";import"./tfjs-backend-webgl-acc70360.js";import"./long-a0f53277.js";(async()=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(e){if(e.ep)return;e.ep=!0;const o=n(e);fetch(e.href,o)}})();const c=document.getElementById("image_container"),d=document.getElementById("upload_form"),a=document.getElementById("process_button"),m=document.getElementById("result"),s="https://stmihan.github.io/cat-and-dogs-dl/model/model.json";console.log({VITE_HOST:"https://stmihan.github.io",BASE_URL:"/cat-and-dogs-dl/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}),console.log(s);const u=await h(s);let l=null;d.onsubmit=t=>{t.preventDefault(),console.log("submit");const n=document.getElementById("file").files[0],r=new FileReader;r.onload=e=>{const o=p();o.src=e.target.result,l=o},r.readAsDataURL(n)},a.onclick=()=>{f().then(t=>{let n="";t[0]>t[1]?n=`Dog ${t[0]*100}%`:n=`Cat ${t[1]*100}%`,m.innerHTML=n})};async function f(){const t=await g(l,3),n=y.resizeBilinear(t,[224,224]).expandDims(0),r=await u.predict(n).data();return console.log(r),r}function p(){const t=document.getElementById("image");if(!t){const n=new Image;return n.id="image",c.appendChild(n),n}return t}})();
